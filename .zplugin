#!/usr/bin/env zsh

## OPTIONS
setopt autocd # enter name of dir to cd into it

## HISTORY
# http://zsh.sourceforge.net/Doc/Release/Options.html
# HISTSIZE=30             # load last 30 commands, default is 30
SAVEHIST=30               # save last 30 commands
setopt HIST_IGNORE_DUPS   # don't save command if duplicate of previous
setopt HIST_REDUCE_BLANKS # rm superfluous blanks from saved command
setopt INC_APPEND_HISTORY # allow simultaneous cross-session shared history

plugin='light'
lazy='lucid'

export ZPLUGIN_MODE='quiet'
# export ZPLUGIN_MODE='verbose'
if [[ $ZPLUGIN_MODE == 'verbose' ]]; then
  lazy='wait'
  plugin='load'
fi

export ZPLG_HOME="${ZDOTDIR:-$HOME}/.zplugin"
. $ZPLG_HOME/bin/zplugin.zsh

zplg $plugin 'romkatv/powerlevel10k'                                       # 0.022
zplg snippet "$HOME/code/dotfiles/.exports"                                # 0.001
zplg snippet "$DOTS/.powerlevel10K"                                         # 0.001
zplg snippet "$DOTS/.tput-colors"                                          # 0.081
zplg snippet "$DOTS/.aliases"                                              # 0.011
zplg snippet "$DOTS/.functions"                                            # 0.003
zplg $plugin 'zsh-users/zsh-autosuggestions'                               # 0.003
zplg snippet 'OMZ::plugins/colored-man-pages/colored-man-pages.plugin.zsh' # 0.001

## Lazy
zplg ice $lazy'0'
zplg snippet 'OMZ::plugins/bgnotify/bgnotify.plugin.zsh' # 0.007
zplg ice $lazy'0'
zplg $plugin 'zdharma/fast-syntax-highlighting'          # 0.102
zplg snippet ~/.iterm2_shell_integration.zsh             # 0.007 https://www.iterm2.com/documentation-shell-integration.html